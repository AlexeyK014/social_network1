"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[548],{7039:(e,s,a)=>{a.r(s),a.d(s,{default:()=>P});var t=a(2791);const r="ChatPage_chat__xoZo4",c="ChatPage_message__D40CP",h="ChatPage_chatForm__QGBq6",l="ChatPage_messageBlock__rAFex",n="ChatPage_chatName__NU5dj",i="ChatPage_chatMessage__3PWhJ",d="ChatPage_textareaChat__Pg0mw",o="ChatPage_btnChat__rNMaJ",_="ChatPage_fonChat__Qn5WX",m="ChatPage_fonImg__bLEyW";var g=a(8687),x=a(9788);const j=a.p+"static/media/fonChat1.26788330c4af3cf823d9.jpg";var u=a(184);const v=()=>{const e=(0,g.I0)(),s=(0,g.v9)((e=>e.chat.status));return(0,t.useEffect)((()=>(e((0,x.WE)()),()=>{e((0,x.R7)())})),[]),(0,u.jsxs)("div",{children:["error"===s&&(0,u.jsx)("div",{children:"Some error occured. Please refresh page."}),(0,u.jsx)(C,{}),(0,u.jsx)(N,{})]})},C=()=>{const e=(0,g.v9)((e=>e.chat.messages)),s=(0,t.useRef)(null),[a,r]=(0,t.useState)(!0);return(0,g.v9)((()=>{var e;a&&(null===(e=s.current)||void 0===e||e.scrollIntoView({behavior:"smooth"}))}),[e]),(0,u.jsxs)("div",{className:c,onScroll:e=>{const s=e.currentTarget;Math.abs(s.scrollHeight-s.scrollTop-s.clientHeight)<400?!a&&r(!0):a&&r(!1)},children:[e.map(((e,s)=>(0,u.jsx)(p,{message:e},e.id))),(0,u.jsx)("div",{ref:s})]})},p=t.memo((e=>{let{message:s}=e;return(0,u.jsxs)("div",{className:r,children:[(0,u.jsx)("div",{children:(0,u.jsx)("img",{src:s.photo})}),(0,u.jsxs)("div",{className:l,children:[(0,u.jsx)("span",{className:n,children:s.userName}),(0,u.jsx)("div",{className:i,children:s.message})]})]})})),N=()=>{const[e,s]=(0,t.useState)(""),a=(0,g.I0)(),r=(0,g.v9)((e=>e.chat.status));return(0,u.jsxs)("div",{className:h,children:[(0,u.jsx)("span",{children:(0,u.jsx)("textarea",{className:d,onChange:e=>s(e.currentTarget.value),value:e})}),(0,u.jsx)("span",{children:(0,u.jsx)("button",{className:o,disabled:"ready"!==r,onClick:()=>{e&&(a((0,x.bG)(e)),s(""))},children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})})]})},P=()=>(0,u.jsxs)("div",{children:[(0,u.jsxs)("div",{className:_,children:[(0,u.jsx)("h1",{children:"\u0427\u0430\u0442"}),(0,u.jsx)("img",{src:j,className:m})]}),(0,u.jsx)(v,{})]})}}]);
//# sourceMappingURL=548.9ac4e9a9.chunk.js.map